SELinux (Security Enhanced Linux )
Linux mit verbesserter Sicherheit

Frage 1: Erkläre SELinux mit Beispielen und Analogien

SELinux (Security-Enhanced Linux) ist ein Sicherheitsmodul für Linux, das den Zugriff auf Systemressourcen streng kontrolliert. Es erweitert die klassischen r-, w-, x-Rechte (lesen, schreiben, ausführen) um ein zusätzliches Sicherheitsmodell namens MAC (Mandatory Access Control).

Analogie: Stell dir die klassischen Dateirechte als Haustürschlüssel vor. Wenn du den Schlüssel hast, kannst du eintreten. SELinux fügt jedoch ein Sicherheitssystem hinzu: Gesichtserkennung, Kameras und ein Wachmann, der prüft, ob du zur richtigen Zeit am richtigen Ort bist.

Beispiel: Ein Webserver (httpd) versucht, eine Datei außerhalb von `/var/www/html` zu lesen. Auch wenn normale Dateirechte es erlauben, kann SELinux dies verhindern, weil laut SELinux-Politik httpd nur auf bestimmte Pfade zugreifen darf.

Frage 2: Was ist der Unterschied zu r-, w- oder x-Rechten?

r (lesen), w (schreiben), x (ausführen) sind Basis-Dateirechte im Dateisystem. SELinux geht darüber hinaus und kontrolliert, welcher Prozess auf welche Datei unter welchen Bedingungen zugreifen darf – unabhängig davon, ob r/w/x erlaubt sind.

Unterschiede:
- r/w/x sind einfache Berechtigungen auf Dateisystemebene.
- SELinux basiert auf Kontexten (Kontext: Benutzer, Rolle, Typ) und Politiken.
- Ein Zugriff kann trotz r/w/x verweigert werden, wenn die SELinux-Politik es nicht erlaubt.

Analogie: r/w/x ist der Schlüssel zur Tür. SELinux ist der Sicherheitsmann, der dich nur reinlässt, wenn du auch auf der Liste stehst – selbst wenn du den Schlüssel hast.

Frage 3: Grundlegende Befehle und Beispiele

Status von SELinux anzeigen:
getenforce

Temporär den Modus ändern:
setenforce 0   # Wechsel in den permissive-Modus
setenforce 1   # Wechsel in den enforcing-Modus

Dauerhafte Einstellung:
In der Datei /etc/selinux/config:
SELINUX=enforcing
oder
SELINUX=permissive

Dateikontext anzeigen:
ls -Z /var/www/html/index.html

Dateikontext ändern:
chcon -t httpd_sys_content_t /var/www/html/index.html

Standardkontexte wiederherstellen:
restorecon -Rv /var/www/html/

Logs analysieren:
ausearch -m avc -ts recent
oder
sealert -a /var/log/audit/audit.log

Diese Befehle helfen bei der alltäglichen Arbeit mit SELinux und bei der Fehlersuche.

Was sind die Selinux 

SELINUX=  
- enforcing  #  SELinux erzwingt die Richtlinien und blockiert unerlaubte Aktionen 
# SELinux enforces the policies and blocks unauthorized actions  

- permissive # SELinux protokolliert Verstöße, blockiert sie aber nicht (Warnmodus)  
# SELinux logs violations but does not block them (warning mode) 

- disabled   # SELinux ist komplett deaktiviert
# SELinux is completely disabled
